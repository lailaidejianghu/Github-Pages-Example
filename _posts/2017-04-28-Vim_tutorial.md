---
layout: post
title: vim教程
date: 2017-04-22 11:15:06 
tag: vim
---
注：本教程来源于[陈皓](http://coolshell.cn/articles/5426.html)，多谢分享。
### 基本操作
```
i → Insert 模式，按 ESC 回到 Normal 模式.
x → 删当前光标所在的一个字符。
:wq → 存盘 + 退出 (:w 存盘, :q 退出)   （陈皓注：:w 后可以跟文件名）
dd → 删除当前行，并把删除的行存到剪贴板里
p → 粘贴剪贴板
推荐:
hjkl (强例推荐使用其移动光标，但不必需) →你也可以使用光标键 (←↓↑→). 注: j 就像下箭头。
:help <command> → 显示相关命令的帮助。你也可以就输入 :help 而不跟命令。
```

### 各种插入姿势
```
a → 在光标后插入
o → 在当前行后插入一个新行
O → 在当前行前插入一个新行
cw → 替换从光标所在位置后到一个单词结尾的字符
```

### 简单的光标移动
```
0→ 数字零，到行头
^ → 到本行第一个不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等）
$ → 到本行行尾
g_ → 到本行最后一个不是blank字符的位置。
/pattern → 搜索 pattern 的字符串（陈皓注：如果搜索出多个匹配，可按n键到下一个）

```

拷贝/粘贴 

```
 P → 粘贴
 yy → 拷贝当前行当行于 ddP

```

Undo/Redo

```
 u → undo
 <C-r> → redo

```
### 打开/保存/退出/改变文件(Buffer)
```
 :e <path/to/file> → 打开一个文件
 :w → 存盘
 :saveas <path/to/file> → 另存为 <path/to/file>
 :x， ZZ 或 :wq → 保存并退出 (:x 表示仅在需要时保存，ZZ不需要输入冒号并回车)
 :q! → 退出不保存 :qa! 强行退出所有的正在编辑的文件，就算别的文件有更改。
 :bn 和 :bp → 你可以同时打开很多文件，使用这两个命令来切换下一个或上一个文件。（陈皓注：我喜欢使用:n到下一个文件）

```
### 重复操作
```
 . → (小数点) 可以重复上一次的命令
 N<command> → 重复某个命令N次
 ```
例子：
```
2dd → 删除2行
3p → 粘贴文本3次
10idesu [ESC] → 会写下 "desu desu desu desu desu desu desu desu desu desu" 
. → 重复上一个命令—— 100 “desu “.
3. → 重复 3 次 “desu” 
```
### 光标移动
```
NG → 到第 N 行 (:N 到第N行，如 :137 到第137行）
gg → 到第一行。
G → 到最后一行。
按单词移动：
  w → 到下一个单词的开头。
  e → 到下一个单词的结尾。
 > 如果你认为单词是由默认方式，那么就用小写的e和w。默认上来说，一个单词由字母，数字和下划线组成。
 > 如果你认为单词是由blank字符分隔符，那么你需要使用大写的E和W。

最强的光标移动：

 % : 匹配括号移动，包括 (, {, [. （你需要把光标先移到括号上）
 * 和 #:  匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个）
```
### 命令组合
```
<start position><command><end position>
例如 0y$ 命令意味着：
    0 → 先到行头
    y → 从这里开始拷贝
    $ → 拷贝到本行最后一个字符
    输入 ye，从当前位置拷贝到本单词的最后一个字符。
    输入 y2/foo 来拷贝2个 “foo” 之间的字符串。
```
Vim超能力
### 在当前行上移动光标: 0 ^ $ f F t T , ;
```
0 → 到行头
^ → 到本行的第一个非blank字符
$ → 到行尾
g_ → 到本行最后一个不是blank字符的位置。
fa → 到下一个为a的字符处，你也可以fs到下一个为s的字符。
t, → 到逗号前的第一个字符。逗号可以变成其它字符。
3fa → 在当前行查找第三个出现的a。
F 和 T → 和 f 和 t 一样，只不过是相反方向。

0   ^          fi     t)       4fi         g_   $
|   |          |      |         |           |    |
    x=(name_1.vision_3); #this is a comment.
```
### 区域选择 (action)a(object) 或 (action)i(object)
在visual 模式下，这些命令很强大，其命令格式为
```
<action>a<object> 和 <action>i<object>
 action可以是任何的命令，如 d (删除), y (拷贝), v (可以视模式选择)。
 object 可能是： w 一个单词， W 一个以空格为分隔的单词， s 一个句字， p 一个段落。也可以是一个特别的字符："、 '、 )、 }、 ]。

块操作，典型的操作： 0 <C-v> <C-d> I-- [ESC]
 ^ → 到行头
 <C-v> → 开始块操作
 <C-d> → 向下移动 (你也可以使用hjkl来移动光标，或是使用%，或是别的)
 I-- [ESC] → I是插入，插入“--”，按ESC键来为每一行生效。
自动提示： <C-n> 和 <C-p>
在 Insert 模式下，你可以输入一个词的开头，然后按 <C-p>或是<C-n>，自动补齐功能就出现了……

可视化选择： v,V,<C-v>
J → 把所有的行连接起来（变成一行）
< 或 > → 左右缩进
= → 自动给缩进 
在所有被选择的行后加上点东西：

    <C-v>
    选中相关的行 (可使用 j 或 <C-d> 或是 /pattern 或是 % 等……)
    $ 到行最后
    A, 输入字符串，按 ESC。

```
分屏: :split 和 vsplit.
```
        :split → 创建分屏 (:vsplit创建垂直分屏)
        <C-w><dir> : dir就是方向，可以是 hjkl 或是 ←↓↑→ 中的一个，其用来切换分屏。
        <C-w>_ (或 <C-w>|) : 最大化尺寸 (<C-w>| 垂直分屏)
        <C-w>+ (或 <C-w>-) : 增加尺寸

```
